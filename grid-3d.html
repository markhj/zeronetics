<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Zeronetics Game Engine: 3D Grid</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Zeronetics Game Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('grid-3d.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">3D Grid </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <b>3D Grid</b> is mainly used in editors, but can just as easily be used in game worlds, if somehow relevant.</p>
<p><img src="https://res.cloudinary.com/drfztvfdh/image/upload/v1724513027/zeronetics/3d-grid_cfspww.png" alt="" class="inline"/></p>
<p>A 3D grid consists of <em>X</em> number of lines, and at the center it has lines indicating the positive directions of the X, Y and Z axes.</p>
<p>X-axis is red, Y-axis is green and Z-axis is blue. This can also be remembered by the axis letters corresponding to Red-Green-Blue (<code>XYZ = RGB</code>), in that <code>X = R</code>, <code>Y = G</code> and <code>Z = B</code>.</p>
<h2><a class="anchor" id="autotoc_md158"></a>
ðŸŽ² How it works</h2>
<p>The class which generates the 3D grid has a method named <code>generate</code>, which creates a <a class="el" href="classZEN_1_1RenderLayer.html">render layer</a>, which can be added to a <a class="el" href="render-manager.html">render manager</a>.</p>
<p>Furthermore, it provides a <a class="el" href="structZEN_1_1ShaderBlueprint.html">shader blueprint</a>, which must be compiled by the used renderer.</p>
<h2><a class="anchor" id="autotoc_md159"></a>
ðŸ”¨ Working with 3D grid</h2>
<h3><a class="anchor" id="autotoc_md160"></a>
Setting up</h3>
<p>First of all, we must generate an instance of the <code><a class="el" href="classZEN_1_1Gizmos_1_1Grid3D.html">ZEN::Gizmos::Grid3D</a></code> class.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span> grid3d = <a class="code" href="classZEN_1_1Gizmos_1_1Grid3D.html">ZEN::Gizmos::Grid3D</a>();</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Add configuration here, for example:</span></div>
<div class="line">grid3d.lines = 30;</div>
<div class="ttc" id="aclassZEN_1_1Gizmos_1_1Grid3D_html"><div class="ttname"><a href="classZEN_1_1Gizmos_1_1Grid3D.html">ZEN::Gizmos::Grid3D</a></div><div class="ttdef"><b>Definition:</b> 3d-grid.h:17</div></div>
</div><!-- fragment --><p>As shown above, you should add whatever configuration you'd like here, because once the grid has been generated, changing the configuration will no longer have an effect.</p>
<p>Next, we generate the <a class="el" href="classZEN_1_1RenderLayer.html">render layer</a>, and attach it to the <a class="el" href="classZEN_1_1RenderManager.html">render manager</a>.</p>
<div class="fragment"><div class="line">m_gridLayer = std::make_shared&lt;RenderLayer&gt;(grid3d.generate());</div>
<div class="line"> </div>
<div class="line">m_renderManager-&gt;attachLayer(m_gridLayer);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md161"></a>
Example: Compiling shader for OpenGL</h3>
<p>To properly display the grid, you can (optionally) use the <a class="el" href="structZEN_1_1ShaderBlueprint.html">shader blueprint</a> bundled with the 3D Grid.</p>
<p>In this example, we demonstrate how to do this for the <a class="el" href="opengl.html">common Zeronetics OpenGL renderer</a>.</p>
<div class="fragment"><div class="line"><a class="code" href="classZEN_1_1GLSLShaderBuilder.html">ZEN::GLSLShaderBuilder</a> shaderBuilder;</div>
<div class="line">std::string gridVertex = shaderBuilder.<a class="code" href="classZEN_1_1GLSLShaderBuilder.html#a02de1f2afd28d562a24081cb4e8af9f0">make</a>(grid3d.getShaderBlueprint(), ShaderStage::Vertex).value();</div>
<div class="line">std::string gridFrag = shaderBuilder.<a class="code" href="classZEN_1_1GLSLShaderBuilder.html#a02de1f2afd28d562a24081cb4e8af9f0">make</a>(grid3d.getShaderBlueprint(), ShaderStage::Fragment).value();</div>
<div class="ttc" id="aclassZEN_1_1GLSLShaderBuilder_html"><div class="ttname"><a href="classZEN_1_1GLSLShaderBuilder.html">ZEN::GLSLShaderBuilder</a></div><div class="ttdef"><b>Definition:</b> glsl-shader-builder.h:9</div></div>
<div class="ttc" id="aclassZEN_1_1GLSLShaderBuilder_html_a02de1f2afd28d562a24081cb4e8af9f0"><div class="ttname"><a href="classZEN_1_1GLSLShaderBuilder.html#a02de1f2afd28d562a24081cb4e8af9f0">ZEN::GLSLShaderBuilder::make</a></div><div class="ttdeci">std::optional&lt; std::string &gt; make(const ShaderBlueprint &amp;blueprint, ShaderStage shaderStage) noexcept(false) override</div><div class="ttdef"><b>Definition:</b> glsl-shader-builder.cpp:9</div></div>
</div><!-- fragment --><p>This sets up the shader builder, and now we compile:</p>
<div class="fragment"><div class="line">std::shared_ptr&lt;ZEN::OpenGL::Shader&gt; gridShader;</div>
<div class="line">gridShader = std::make_shared&lt;ZEN::OpenGL::Shader&gt;(<a class="code" href="classZEN_1_1OpenGL_1_1Shader.html">ZEN::OpenGL::Shader</a>());</div>
<div class="line">gridShader-&gt;create();</div>
<div class="line">gridShader-&gt;setSource(ShaderStage::Vertex, gridVertex);</div>
<div class="line">gridShader-&gt;setSource(ShaderStage::Fragment, gridFrag);</div>
<div class="line">gridShader-&gt;compile();</div>
<div class="ttc" id="aclassZEN_1_1OpenGL_1_1Shader_html"><div class="ttname"><a href="classZEN_1_1OpenGL_1_1Shader.html">ZEN::OpenGL::Shader</a></div><div class="ttdef"><b>Definition:</b> opengl.h:47</div></div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md162"></a>
Final touches</h3>
<p>Just before we wrap up, we need to attach the shader to the render layer, as well as the camera.</p>
<div class="fragment"><div class="line">m_gridLayer-&gt;renderGroups3d[0]-&gt;shader = gridShader;</div>
<div class="line">m_gridLayer-&gt;camera3d = your3DCamera;</div>
</div><!-- fragment --><p>Note that you must replace <code>your3DCamera</code> which the variable name of the <a class="el" href="classZEN_1_1Camera3D.html">3D camera</a> you're using.</p>
<p>Last, but not least, the render manager must be requested to allocate the vertices contained in the render layer.</p>
<div class="fragment"><div class="line">m_renderManager-&gt;request(RendererRequest{</div>
<div class="line">        RenderManagerRequest::Allocate,</div>
<div class="line">        m_gridLayer-&gt;renderGroups3d[0]-&gt;renderables3d[<span class="stringliteral">&quot;Lines&quot;</span>],</div>
<div class="line">        m_gridLayer,</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md163"></a>
ðŸ“Œ See also</h2>
<p><a class="el" href="classZEN_1_1Gizmos_1_1Grid3D.html">ZEN::Gizmos::Grid3D</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="modules.html">Modules</a></li><li class="navelem"><a class="el" href="gizmos.html">Gizmos</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
